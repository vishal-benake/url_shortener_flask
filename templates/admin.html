{% extends "base.html" %}
{% block content %}
<h2>Admin Panel</h2>
<table class="table table-striped table-hover mt-3">
  <thead class="table-dark">
    <tr>
      <th>ID</th>
      <th>Short URL</th>
      <th>Target URL</th>
      <th>Clicks</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for url in urls %}
    <tr>
      <td>{{ url.id }}</td>
      <td><a href="{{ url_for('redirect_short', url_key=url.key, _external=True) }}" target="_blank">{{ url.key }}</a></td>
      <td>{{ url.target_url }}</td>
      <td>{{ url.clicks }}</td>
      <td>{{ "Active" if url.is_active else "Inactive" }}</td>
      <td>
        {% if url.is_active %}
        <a href="{{ url_for('deactivate_url', url_id=url.id) }}" class="btn btn-sm btn-warning">Deactivate</a>
        {% else %}
        <span class="text-muted">N/A</span>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}